---
import Cta from "@components/cta.astro";
import Features from "@components/features.astro";
import Hero from "@components/hero.astro";
import Logos from "@components/logos.astro";
import Layout from "@layouts/layout.astro";
import Background from "@components/background.astro";
import GoogleMap from "@components/google-map.astro";
import TextLeftSection from "@components/text-left-section.astro";
import TextRightSection from "@components/text-right-section.astro";
import Clients from "@components/clients-reviews.astro";
import ServiceRoadmap from "@components/service-roadmap/service-roadmap.astro";
import FromBlog from "@components/from-blog.astro";
import Faq from "@/components/faq.astro";
import Schema from "@components/schemas/landing-schema.astro";
import Newspapers from "@components/newspapers.astro";

import officeImage from "@assets/paginas-web-murcia.webp";
import seoImage from "@assets/disenador-web-murcia.png";
import heroImage from "@assets/diseno-web-murcia.webp";
import { Image } from "astro:assets";

import { getLangFromUrl, useTranslations } from "@i18n/utils";
import TextOnlySection from "./text-only-section.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// TODO aquí habría que hacer un componente común de opiniones que sea un carrusel de opiniones y que las opiniones las coja de un markdown como hace con los blog posts y los works
---

<Layout title={t("seo.main.title")} description={t("seo.main.description")}>
  <Schema slot="schema" />
  <Background />
  <Hero
    primaryText={t("landing.hero.primary")}
    secondaryText={t("landing.hero.secondary")}
    tertiaryText={t("landing.hero.tertiary")}
    quaternaryText={t("landing.hero.quaternary")}
    cta={{
      link: "/contacto",
      text: t("landing.hero.cta"),
    }}>
    <div class="w-26 relative border-1 border-solid border-black">
      <span
        class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xl font-bold text-neutral-950 sm:text-2xl"
        >Webllope</span
      >
      <Image
        id="diseno-web-murcia"
        alt="Diseño Web Murcia"
        class="drop-shadow-xl"
        loading="eager"
        src={heroImage}
        densities={[1.5, 2]}
      />
    </div>
  </Hero>
  <TextLeftSection
    title={t("briefAboutUs.title")}
    firstP={t("briefAboutUs.firstP")}
    secondP={t("briefAboutUs.secondP")}
    thirdP={t("briefAboutUs.thirdP")}
    cta={{
      link: "/contacto",
      text: t("briefAboutUs.cta"),
    }}>
    <Image alt="Páginas Web Murcia" width={359} height={524} class="rounded-xl" src={officeImage} />
  </TextLeftSection>
  <Clients />
  <TextRightSection
    title={t("briefSeoInfo.title")}
    firstP={t("briefSeoInfo.firstP")}
    secondP={t("briefSeoInfo.secondP")}
    cta={{
      link: "/servicios",
      text: t("briefSeoInfo.cta"),
    }}>
    <Image alt="Diseñador Web Murcia" src={seoImage} width="500" height="400" class="h-full mx-auto mt-6" />
  </TextRightSection>
  <ServiceRoadmap />
  <TextOnlySection
    title={t("briefEcommerceInfo.title")}
    firstP={t("briefEcommerceInfo.firstP")}
    secondP={t("briefEcommerceInfo.secondP")}
    cta={{
      link: "/contacto",
      text: t("briefEcommerceInfo.cta"),
    }}
  />
  <Newspapers />
  <Features />
  <GoogleMap />
  <TextOnlySection
    title={t("landing.textOnly.primary")}
    firstP={t("landing.textOnly.secondary")}
    secondP={t("landing.textOnly.tertiary")}
    thirdP={t("landing.textOnly.quaternary")}
    cta={{
      link: "/contacto",
      text: t("briefEcommerceInfo.cta"),
    }}
  />
  <div class="relative pt-12 lg:pt-16 mt-12 lg:mt-16">
    <Background />
    <FromBlog variant="landing-primary" />
  </div>
  <Faq title={t("landing.faq.title")} questions={t("landing.faq.content")} />
  <Cta />
</Layout>
<script>
  const testElement = document.getElementById("diseno-web-murcia");
  window.addEventListener("scroll", () => {
    const rotation = window.scrollY / 10;
    if (testElement) {
      testElement.style.transform = `rotate(${rotation * 2}deg)`;
    }
  });
</script>
