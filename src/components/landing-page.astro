---
import Cta from "@components/cta.astro";
import Features from "@components/features.astro";
import Hero from "@components/hero.astro";
import Logos from "@components/logos.astro";
import Layout from "@layouts/layout.astro";
import Background from "@components/background.astro";
import Message from "@components/message.astro";
import TextLeftSection from "@components/text-left-section.astro";
import TextRightSection from "@components/text-right-section.astro";
import Clients from "@components/clients.astro";
import ServiceRoadmap from "@components/service-roadmap/service-roadmap.astro";

import officeImage from "@assets/paginas-web-murcia.webp";
import seoImage from "@assets/seo-murcia.webp";
import heroImage from "@assets/diseno-web-murcia.webp";
import { Image } from "astro:assets";

import { getLangFromUrl, useTranslations } from "@i18n/utils";
import { getEntry } from "astro:content";
import TextOnlySection from "./text-only-section.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const client = await getEntry("clients", "salonchick");

// TODO aquí habría que hacer un componente común de opiniones que sea un carrusel de opiniones y que las opiniones las coja de un markdown como hace con los blog posts y los works
---

<Layout title={t("seo.main.title")} description={t("seo.main.description")}>
  <Background />
  <Hero
    primaryText={t("landing.hero.primary")}
    secondaryText={t("landing.hero.secondary")}
    tertiaryText={t("landing.hero.tertiary")}
    quaternaryText={t("landing.hero.quaternary")}
    cta={{
      link: "/contacto",
      text: t("landing.hero.cta"),
    }}>
    <Image
      alt="Diseño Web Murcia"
      class="transform scale-x-[-1] drop-shadow-xl"
      loading="eager"
      width={400}
      src={heroImage}
      densities={[1.5, 2]}
    />
  </Hero>
  <TextLeftSection
    title={t("briefAboutUs.title")}
    firstP={t("briefAboutUs.firstP")}
    secondP={t("briefAboutUs.secondP")}
    cta={{
      link: "/contacto",
      text: t("briefAboutUs.cta"),
    }}>
    <Image
      alt="Páginas Web Profesionales Murcia"
      width={359}
      height={524}
      class="rounded-xl"
      src={officeImage}
    />
  </TextLeftSection>
  <Clients />
  <TextRightSection
    title={t("briefSeoInfo.title")}
    firstP={t("briefSeoInfo.firstP")}
    secondP={t("briefSeoInfo.secondP")}
    cta={{
      link: "/servicios",
      text: t("briefSeoInfo.cta"),
    }}>
    <Image
      alt="Diseñador Web Murcia"
      src={seoImage}
      width="220"
      height="443"
      class="h-full mx-auto mt-6"
    />
  </TextRightSection>
  <ServiceRoadmap />
  <TextOnlySection
    title={t("briefEcommerceInfo.title")}
    firstP={t("briefEcommerceInfo.firstP")}
    secondP={t("briefEcommerceInfo.secondP")}
    cta={{
      link: "/contacto",
      text: t("briefEcommerceInfo.cta"),
    }}/>
  <Features />
  <Message
    title={t("index.message.title")}
    content={client.data.reviews[0][lang].content}
    image={{
      alt: `${client.data.name}`,
      src: client.data.logos.light,
    }}
  />
  <Logos />
  <Cta />
</Layout>
