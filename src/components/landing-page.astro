---
import Cta from "@components/cta.astro";
import Features from "@components/features.astro";
import Hero from "@components/hero.astro";
import Logos from "@components/logos.astro";
import Layout from "@layouts/layout.astro";
import Background from "@components/background.astro";
import Message from "@components/message.astro";
import BriefAboutUs from "@components/brief-about-us.astro";
import BriefSeoInfo from "@components/brief-seo-info.astro";
import BriefEcommerceInfo from "@components/brief-ecommerce-info.astro";
import Clients from "@components/clients.astro";
import ServiceRoadmap from "@components/service-roadmap/service-roadmap.astro";

import { getLangFromUrl, useTranslations } from "@i18n/utils";
import { getEntry } from "astro:content";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const client = await getEntry("clients", "salonchick");

// TODO aquí habría que hacer un componente común de opiniones que sea un carrusel de opiniones y que las opiniones las coja de un markdown como hace con los blog posts y los works
---

<Layout title={t("seo.main.title")} description={t("seo.main.description")}>
  <Background />
  <Hero />
  <BriefAboutUs />
  <Clients />
  <BriefSeoInfo />
  <ServiceRoadmap />
  <BriefEcommerceInfo />
  <Features />
  <Message
    title={t("index.message.title")}
    content={client.data.reviews[0][lang].content}
    image={{
      alt: `${client.data.name} Imagen`,
      src: client.data.logos.light,
    }}
  />
  <Logos />
  <Cta />
</Layout>
